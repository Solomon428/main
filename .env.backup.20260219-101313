# ==============================================================================
# CREDITORFLOW EMS - ENVIRONMENT CONFIGURATION (FIXED)
# ==============================================================================

# ------------------------------------------------------------------------------
# DATABASE CONFIGURATION - CORRECTED FOR LOCAL DEVELOPMENT
# ------------------------------------------------------------------------------

# Primary Database Connection (localhost - NOT host.docker.internal)
DATABASE_URL="postgresql://creditorflow:creditorflow123@localhost:5432/creditorflow?schema=public"

# Direct Database Connection (for Prisma migrations)
DIRECT_URL="postgresql://creditorflow:creditorflow123@localhost:5432/creditorflow"

# ------------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# ------------------------------------------------------------------------------

NODE_ENV="development"
PORT=3000
NEXTAUTH_URL="http://localhost:3000"
APP_URL="http://localhost:3000"
APP_NAME="CreditorFlow EMS"
APP_VERSION="2.1.0"

# API Configuration
API_URL="http://localhost:3000/api"
API_VERSION="v1"

# Timezone & Locale (South African)
TIMEZONE="Africa/Johannesburg"
LOCALE="en-ZA"
CURRENCY="ZAR"

# ------------------------------------------------------------------------------
# AUTHENTICATION & SECURITY
# ------------------------------------------------------------------------------

# JWT Configuration (MUST be 32+ characters)
JWT_SECRET="creditorflow-jwt-secret-change-in-production-minimum-32-characters"
JWT_EXPIRES_IN="7d"
JWT_REFRESH_SECRET="creditorflow-refresh-secret-different-from-jwt-secret-64chars"
JWT_REFRESH_EXPIRES_IN="30d"

# NextAuth Configuration
NEXTAUTH_SECRET="creditorflow-nextauth-secret-minimum-32-characters-required"

# Session Configuration
SESSION_SECRET="creditorflow-session-secret-minimum-32-characters-long-secure"
SESSION_EXPIRES_IN="86400"

# Cookie Configuration
COOKIE_SECRET="creditorflow-cookie-secret-minimum-32-characters-long-secure"
COOKIE_SECURE=false
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE="lax"

# Encryption
ENCRYPTION_KEY="creditorflow-encryption-key-32-bytes-minimum-required-here"

# ------------------------------------------------------------------------------
# FILE UPLOAD CONFIGURATION
# ------------------------------------------------------------------------------

STORAGE_PROVIDER="LOCAL"
UPLOAD_DIR="./uploads"
MAX_FILE_SIZE=52428800
ALLOWED_FILE_TYPES="pdf,jpg,jpeg,png,tiff,doc,docx,xls,xlsx,csv"

LOCAL_STORAGE_PATH="./uploads"
LOCAL_STORAGE_URL="/uploads"

# MinIO (if using Docker services)
MINIO_ENDPOINT="localhost"
MINIO_PORT=9000
MINIO_ACCESS_KEY="minioadmin"
MINIO_SECRET_KEY="minioadmin123"
MINIO_BUCKET="creditorflow-uploads"
MINIO_USE_SSL=false

# ------------------------------------------------------------------------------
# EMAIL CONFIGURATION
# ------------------------------------------------------------------------------

SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER=""
SMTP_PASSWORD=""
SMTP_FROM="noreply@creditorflow.com"
SMTP_FROM_NAME="CreditorFlow EMS"

# ------------------------------------------------------------------------------
# CACHE & REDIS
# ------------------------------------------------------------------------------

REDIS_ENABLED=true
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""
REDIS_DB=0
REDIS_CACHE_TTL=3600

# ------------------------------------------------------------------------------
# OCR & AI FEATURES
# ------------------------------------------------------------------------------

OCR_ENABLED=false
FRAUD_DETECTION_ENABLED=false
ANOMALY_DETECTION_ENABLED=false

# ------------------------------------------------------------------------------
# COMPLIANCE SETTINGS (SARS/POPIA)
# ------------------------------------------------------------------------------

VAT_RATE=15.0
VAT_NUMBER_VALIDATION_ENABLED=true
TAX_ID_VALIDATION_ENABLED=true

# ------------------------------------------------------------------------------
# LOGGING & DEBUG
# ------------------------------------------------------------------------------

LOG_LEVEL="info"
LOG_FORMAT="json"
DEBUG=false
DEBUG_PRISMA=false

# ------------------------------------------------------------------------------
# CORS & SECURITY
# ------------------------------------------------------------------------------

CORS_ENABLED=true
CORS_ORIGIN="http://localhost:3000,http://localhost:3001"
CORS_CREDENTIALS=true

# ------------------------------------------------------------------------------
# FEATURE FLAGS
# ------------------------------------------------------------------------------

FEATURE_BULK_OPERATIONS=true
FEATURE_ADVANCED_REPORTING=true
FEATURE_AI_ASSISTANT=false
FEATURE_MULTI_CURRENCY=true
FEATURE_API_ACCESS=true